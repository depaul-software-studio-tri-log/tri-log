<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head th:replace="fragments/header :: header(page='Swimming Stats')">
    <title>Swimming Stats</title>
</head>
<body>
    <div th:replace="fragments/header :: navbar"></div>

    <div class="container-fluid">
        <div class="row wrapper min-vh-100 flex-column flex-sm-row">
            <div th:replace="fragments/header :: sidebar"></div>
            <main class="col bg-faded">

                <div class="container p-3 m-1">
                    <h2>Swimming Stats</h2>
                    <small>Content goes here.</small>
                </div>

            </main>
        </div>
    </div>

    <div th:replace="fragments/footer :: footer"></div>

    <script th:src="@{/js/swimming.js}"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" th:inline="javascript">
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);
        function drawChart() {
            var distances = [[${swimDistances}]];
            var dates = [[${swimDates}]];
            var time = [[${swimTime}]];
            var arrayData = new Array();

            arrayData[0] = (['date', 'Distances(Miles)', 'Time(Mins)'])
            for (i = 0; i < 5; i++) {
                arrayData[i+ 1] = [dates[i], distances[i], time[i]];
            }

            var data = google.visualization.arrayToDataTable(arrayData, false);
            var options = {'title':'Swims Graph',
                'width':900,
                'height':600,
                hAxis: {
                    title: 'Date'
                },
                vAxis: {
                    title: 'Distances/Time',
                }};

            var chart = new google.visualization.ColumnChart(document.getElementById('swim_distances_chart_div'));
            chart.draw(data, options);
        }
    </script>
</body>
</html>